<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<title>Html5 canvas标签 </title>
</head>
<body>
	<!-- 这是一个用于绘图的画布-->
	<canvas id="idcanvase1">
		浏览器不支持canvas标签
	</canvas>
	
	<canvas id="idcanvase2">
		浏览器不支持canvas标签
	</canvas>
	
	<canvas id="idcanvase3">
		浏览器不支持canvas标签
	</canvas>
</body>

</html>
<script type="text/javascript">
//使用JS 绘制线条
var c1=document.getElementById("idcanvase1");
var cxt1=c1.getContext("2d");
cxt1.strokeStyle="#FF0000";//绘制线条颜色为红色
cxt1.moveTo(10,10);
cxt1.lineTo(100,20);
cxt1.lineTo(10,50);
cxt1.lineTo(100,50);
cxt1.stroke();
//使用JS 绘制区域
var c2 = document.getElementById('idcanvase2');
var ctx2 = c2.getContext('2d');
ctx2.beginPath();
ctx2.fillStyle = 'rgb(192, 80, 77)'; // 红
ctx2.fillRect(0,10,100,50);
ctx2.fill();
ctx2.beginPath();
ctx2.fillStyle = 'rgb(155, 187, 89)'; // 绿
ctx2.arc(45, 95, 35, 0, Math.PI*2, false);
ctx2.fill();
ctx2.beginPath();
ctx2.fillStyle = 'rgb(128, 100, 162)'; // 紫
ctx2.arc(95, 95, 35, 0, Math.PI*2, false);
ctx2.fill();
//使用JS 绘制一张图像
var c3=document.getElementById("idcanvase3");
var cxt3=c3.getContext("2d");
//绘制
PreLoadImg("image/cover.jpg",function(){
	cxt3.drawImage(this,0,0);
});
//用于预加载 图片，由于浏览器的问题，有可能因为图片尚未被加载导致绘图无效
function PreLoadImg(url,callback){  
     var img = new Image(); //创建一个Image对象，实现图片的预下载  
     img.src = url;  
     
    if (img.complete) { // 如果图片已经存在于浏览器缓存，直接调用回调函数  
         callback.call(img);  
        return; // 直接返回，不用再处理onload事件  
     }  
  
     img.onload = function () { //图片下载完毕时异步调用callback函数。  
         callback.call(img);//将回调函数的this替换为Image对象  
     };  
}  
</script>
